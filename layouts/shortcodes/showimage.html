{{ $imagePath := printf "img/image-%s" (.Get 0) | printf "%s"}}
{{ $captionAltText := .Get 1 }}
{{ $resizeOptions := "600x webp text" }}

{{ if .Get 2 }}
    {{ $resizeOptions = .Get 2 }}
{{ end }}

{{ $image := resources.Get $imagePath }}
<figure>
    <img src="{{ ( $image.Resize $resizeOptions ).RelPermalink }}" alt="{{ $captionAltText }}" loading="lazy">
    <figcaption>{{ $captionAltText }}</figcaption>
</figure>